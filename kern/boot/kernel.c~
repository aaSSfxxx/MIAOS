#include <wtfos.h>
#include <grub_struct.h>

extern int _start;

void kmain(struct mb_partial_info *mbi)
{
    int lol;
    printk("RAM detected : %uk (lower), %uk (upper)\n", mbi->low_mem, mbi->high_mem);
    printk("Command line got: %s \n", mbi->cmdline);
    InitGDT();
    LoadIDT();
    asm ("mov %ebp,-0xc(%ebp)");
    printk("Stack address is near %x, _start is near %x", lol, _start);
}
